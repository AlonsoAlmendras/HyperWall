[gd_scene load_steps=18 format=3 uid="uid://bbrvq56v4hc0v"]

[ext_resource type="Script" path="res://CoverFlow.gd" id="1_h30rm"]
[ext_resource type="Script" path="res://QuadTilt.gd" id="2_akk6a"]
[ext_resource type="PackedScene" uid="uid://b75b8kuhmi2r" path="res://Child.tscn" id="2_p48yj"]
[ext_resource type="PackedScene" uid="uid://cuxe0ccf2jtxo" path="res://CoverFlowInterface.tscn" id="3_ihb8t"]
[ext_resource type="Script" path="res://Pool.gd" id="5_7s2rn"]
[ext_resource type="PackedScene" uid="uid://1cglsstr7xwf" path="res://Scenes/xr_origin_3d.tscn" id="6_dwfvn"]
[ext_resource type="Material" uid="uid://cca0uhiijc5jq" path="res://Materials/floor.tres" id="7_0nyl3"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_gw3tr"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_hqjyg"]
sky_material = SubResource("ProceduralSkyMaterial_gw3tr")

[sub_resource type="Environment" id="Environment_oradu"]
background_mode = 2
sky = SubResource("Sky_hqjyg")
tonemap_mode = 2

[sub_resource type="QuadMesh" id="QuadMesh_glf76"]
size = Vector2(2, 1.236)

[sub_resource type="ViewportTexture" id="ViewportTexture_gaj7f"]
viewport_path = NodePath("Mask/SubViewport")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_cy4dd"]
resource_local_to_scene = true
transparency = 1
albedo_texture = SubResource("ViewportTexture_gaj7f")

[sub_resource type="BoxShape3D" id="BoxShape3D_ieo0t"]
size = Vector3(2, 1.236, 0.001)

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_ifu31"]
bounce = 0.5
absorbent = true

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_vlelm"]
data = PackedVector3Array(7.5, 0, 5, -7.5, 0, 5, 7.5, 0, -5, -7.5, 0, 5, -7.5, 0, -5, 7.5, 0, -5)

[sub_resource type="PlaneMesh" id="PlaneMesh_202tr"]
size = Vector2(15, 10)

[node name="CoverFlow" type="Node3D"]
script = ExtResource("1_h30rm")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_oradu")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1.32993)

[node name="RayCast3D" type="RayCast3D" parent="Camera3D"]
target_position = Vector3(0, 0, -2)
collide_with_areas = true

[node name="Mask" type="MeshInstance3D" parent="."]
transform = Transform3D(0.999971, -0.0011624, -0.00750962, 0.00111321, 0.999978, -0.00655159, 0.00751707, 0.00654304, 0.99995, 0, 0, 0)
mesh = SubResource("QuadMesh_glf76")
surface_material_override/0 = SubResource("StandardMaterial3D_cy4dd")
script = ExtResource("2_akk6a")

[node name="SubViewport" type="SubViewport" parent="Mask"]
transparent_bg = true
canvas_item_default_texture_filter = 0
size = Vector2i(512, 316)

[node name="Interface" parent="Mask/SubViewport" instance=ExtResource("3_ihb8t")]

[node name="Area3D" type="Area3D" parent="Mask"]
input_capture_on_drag = true

[node name="CollisionShape3D" type="CollisionShape3D" parent="Mask/Area3D"]
shape = SubResource("BoxShape3D_ieo0t")

[node name="Pool" type="Node3D" parent="Mask"]
script = ExtResource("5_7s2rn")
scene = ExtResource("2_p48yj")

[node name="Floor" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
physics_material_override = SubResource("PhysicsMaterial_ifu31")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Floor"]
shape = SubResource("ConcavePolygonShape3D_vlelm")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Floor/CollisionShape3D"]
material_override = ExtResource("7_0nyl3")
mesh = SubResource("PlaneMesh_202tr")
skeleton = NodePath("../..")

[node name="XROrigin3D" parent="." instance=ExtResource("6_dwfvn")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.996597)
